{
  "annotations": {"list": []},
  "editable": true,
  "panels": [
    {
      "title": "Workflow Success Rate",
      "type": "gauge",
      "gridPos": {"h": 8, "w": 8, "x": 0, "y": 0},
      "targets": [
        {
          "expr": "rate(temporal_workflow_completed{status=\"completed\"}[1h]) / rate(temporal_workflow_completed[1h]) * 100",
          "legendFormat": "Success %",
          "refId": "A"
        }
      ],
      "fieldConfig": {"defaults": {"unit": "percent", "max": 100, "min": 0, "thresholds": {"steps": [{"color": "red", "value": 0}, {"color": "yellow", "value": 80}, {"color": "green", "value": 95}]}}}
    },
    {
      "title": "Workflow Executions",
      "type": "timeseries",
      "gridPos": {"h": 8, "w": 16, "x": 8, "y": 0},
      "targets": [
        {"expr": "rate(temporal_workflow_completed{status=\"completed\"}[5m])", "legendFormat": "Completed", "refId": "A"},
        {"expr": "rate(temporal_workflow_completed{status=\"failed\"}[5m])", "legendFormat": "Failed", "refId": "B"},
        {"expr": "rate(temporal_workflow_completed{status=\"timed_out\"}[5m])", "legendFormat": "Timed Out", "refId": "C"}
      ]
    },
    {
      "title": "Avg Workflow Duration",
      "type": "stat",
      "gridPos": {"h": 4, "w": 8, "x": 0, "y": 8},
      "targets": [
        {"expr": "histogram_quantile(0.95, rate(temporal_workflow_endtoend_latency_bucket[1h]))", "legendFormat": "p95", "refId": "A"}
      ],
      "fieldConfig": {"defaults": {"unit": "s"}}
    },
    {
      "title": "Activity Failures",
      "type": "timeseries",
      "gridPos": {"h": 8, "w": 16, "x": 8, "y": 8},
      "targets": [
        {"expr": "rate(temporal_activity_execution_failed_total[5m])", "legendFormat": "{{activity_type}}", "refId": "A"}
      ]
    },
    {
      "title": "Active Workers",
      "type": "stat",
      "gridPos": {"h": 4, "w": 8, "x": 0, "y": 12},
      "targets": [
        {"expr": "temporal_worker_task_slots_available", "legendFormat": "Available Slots", "refId": "A"}
      ]
    }
  ],
  "schemaVersion": 39,
  "tags": ["automation", "temporal"],
  "time": {"from": "now-6h", "to": "now"},
  "title": "Automation Pipeline",
  "uid": "automation-pipeline"
}
